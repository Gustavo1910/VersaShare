<%- include('components/navbar.ejs') %>
<%- include('components/modal.ejs', { user, currentWorkspace }) %>
<div id="app">
    <%- include('components/sidebar-main-page.ejs') %> 
    <div id="workspace">
        <h1>Workspace</h1>
        <div class="search-bar-container"> 
            <form method="get" action="/"> 
                <input placeholder="Pesquise no workspace" name="q" class="input-main" autocomplete="off">
            </form>
        </div>
        <!-- TODO: Workspace folders-->
        <div class="workspace-section">
            <div class="workspace-section-title">
                <h2>Pastas compartilhadas</h2>
                <button onclick="modal('new-folder')" class="action-button">
                    <span class="material-symbols-outlined">
                        add
                    </span> <!-- + -->

                    Criar uma pasta</button>
            </div>
        </div>
        <div class="folders-container">
            <%  if(workspaceFolders.length > 0) { 
                for(var folder of workspaceFolders){ %>
                <a class="link-none" href="folder/<%= folder.id %>">
                    <div class="folder-container">
                        <div class="folder-icon darkmode-ignore" style="fill: #818181">
                            <%- include('../svgs/shared-folder.ejs') %>
                        </div>
                        <p><%= folder.name %></p>
                    </div>
                </a>
            <% } } else { %>
                <p>Sem pasta bob√£o</p>
            <% } %>
        </div>

        <div class="workspace-section">
            <div class="workspace-section-title">
                <h2>Contatos diretos</h2>
                <button onclick="modal('new-contact')" class="action-button">
                    <span class="material-symbols-outlined">
                        add
                    </span> <!-- + -->

                    Adicionar um contato</button>
            </div>
            <div class="contacts-container">
                
            </div>
        </div>

    </div>
</div>
</div>